5 POKE $6002,$FF
6 POKE $6003,$FF
10 DAT=$6001
20 CTL=$6000
25 RST=7
30 LATCH=7
40 WRITE=6
50 REG=0
60 VAL=0
70 POKE CTL,0
80 POKE CTL,RST
100 REG=7:VAL=$3E:GOSUB 1000
110 REG=8:VAL=$0F:GOSUB 1000
115 FOR NT = 1 TO 255
120 REG=0:VAL=NT:GOSUB 1000
130 REG=1:VAL=0:GOSUB 1000
140 NEXT NT
900 FOR I = 1 TO 100: NEXT I
910 POKE CTL, 0
999 END
1000 POKE CTL,RST
1010 POKE CTL,LATCH
1020 POKE DAT,REG
1030 POKE CTL,RST
1040 POKE CTL,WRITE
1050 POKE DAT,VAL
1060 POKE CTL,RST
1080 RETURN